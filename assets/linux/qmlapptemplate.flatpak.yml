app-id: io.emeric.qmlapptemplate
runtime: org.freedesktop.Platform
runtime-version: '23.08'
sdk: org.freedesktop.Sdk
command: qmlapptemplate

rename-desktop-file: qmlapptemplate.desktop
rename-appdata-file: qmlapptemplate.appdata.xml
rename-icon: qmlapptemplate

finish-args:
  # Our UI is GPU accelerated
  - --device=dri
  # X11 + XShm access
  - --share=ipc
  - --socket=fallback-x11
  # Wayland access
  - --socket=wayland

modules:
- name: qt-base
  buildsystem: cmake-ninja
  builddir: true
  config-opts:
    - -DCMAKE_BUILD_TYPE=RelWithDebInfo
    - -DQT_BUILD_EXAMPLES=OFF
    - -DQT_BUILD_TESTS=OFF
  sources:
    - type: archive
      url: https://download.qt.io/archive/qt/6.5/6.5.2/submodules/qtbase-everywhere-src-6.5.2.tar.xz
      sha256: 3db4c729b4d80a9d8fda8dd77128406353baff4755ca619177eda4cddae71269
      x-checker-data:
        type: anitya
        project-id: 7927
        stable-only: true
        url-template: https://download.qt.io/archive/qt/$major.$minor/$version/submodules/qtbase-everywhere-src-$version.tar.xz
  cleanup:
    - /bin

- name: qt-tools
  buildsystem: cmake-ninja
  builddir: true
  config-opts:
    - -DCMAKE_PREFIX_PATH=/app
    - -DCMAKE_BUILD_TYPE=RelWithDebInfo
    - -DQT_BUILD_EXAMPLES=OFF
    - -DQT_BUILD_TESTS=OFF
  sources:
    - type: archive
      url: https://download.qt.io/archive/qt/6.5/6.5.2/submodules/qttools-everywhere-src-6.5.2.tar.xz
      sha256: 551ffb22751d8fd4d88e9ebd55b9131f4ca55341ee497fdbbba4da8d10d94341
      x-checker-data:
        type: anitya
        project-id: 7927
        stable-only: true
        url-template: https://download.qt.io/archive/qt/$major.$minor/$version/submodules/qttools-everywhere-src-$version.tar.xz

- name: qt-shadertools
  buildsystem: cmake-ninja
  builddir: true
  config-opts:
    - -DQT_BUILD_EXAMPLES=OFF
    - -DQT_BUILD_TESTS=OFF
  sources:
    - type: archive
      url: https://download.qt.io/archive/qt/6.5/6.5.2/submodules/qtshadertools-everywhere-src-6.5.2.tar.xz
      sha256: ca3fb0db8576c59b9c38bb4b271cc6e10aebeb54e2121f429f4ee80671fc0a3d
      x-checker-data:
        type: anitya
        project-id: 7927
        stable-only: true
        url-template: https://download.qt.io/archive/qt/$major.$minor/$version/submodules/qtshadertools-everywhere-src-$version.tar.xz

- name: qtdeclarative
  buildsystem: cmake-ninja
  builddir: true
  config-opts:
    - -DCMAKE_PREFIX_PATH=/app
    - -DCMAKE_BUILD_TYPE=RelWithDebInfo
    - -DQT_BUILD_EXAMPLES=OFF
    - -DQT_BUILD_TESTS=OFF
  sources:
    - type: archive
      url: https://download.qt.io/archive/qt/6.5/6.5.2/submodules/qtdeclarative-everywhere-src-6.5.2.tar.xz
      sha256: f3a11fe54e9fac77c649e46e39f1cbe161e9efe89bad205115ba2861b1eb8719
      x-checker-data:
        type: anitya
        project-id: 7927
        stable-only: true
        url-template: https://download.qt.io/archive/qt/$major.$minor/$version/submodules/qtdeclarative-everywhere-src-$version.tar.xz

- name: qtwayland
  buildsystem: cmake-ninja
  config-opts:
    - -DCMAKE_BUILD_TYPE=RelWithDebInfo
    - -DQT_BUILD_EXAMPLES=OFF
    - -DQT_BUILD_TESTS=OFF
  sources:
    - type: archive
      url: https://download.qt.io/archive/qt/6.5/6.5.2/submodules/qtwayland-everywhere-src-6.5.2.tar.xz
      sha256: 3020be86fb7fd0abb8509906ca6583cadcaee168159abceaeb5b3e9d42563c9a
      x-checker-data:
        type: anitya
        project-id: 7927
        stable-only: true
        url-template: https://download.qt.io/archive/qt/$major.$minor/$version/submodules/qtwayland-everywhere-src-$version.tar.xz
  cleanup:
    - /bin

- name: qtimageformats
  buildsystem: cmake-ninja
  config-opts:
    - -DCMAKE_BUILD_TYPE=RelWithDebInfo
    - -DQT_BUILD_EXAMPLES=OFF
    - -DQT_BUILD_TESTS=OFF
  sources:
    - type: archive
      url: https://download.qt.io/archive/qt/6.5/6.5.2/submodules/qtimageformats-everywhere-src-6.5.2.tar.xz
      sha256: aae0c08924c6a5e47f9d57e031673d611ffff7aab2bee2e1cc460471ecac6743
      x-checker-data:
        type: anitya
        project-id: 7927
        stable-only: true
        url-template: https://download.qt.io/archive/qt/$major.$minor/$version/submodules/qtimageformats-everywhere-src-$version.tar.xz

- name: qtsvg
  buildsystem: cmake-ninja
  config-opts:
    - -DCMAKE_BUILD_TYPE=RelWithDebInfo
    - -DQT_BUILD_EXAMPLES=OFF
    - -DQT_BUILD_TESTS=OFF
  sources:
    - type: archive
      url: https://download.qt.io/archive/qt/6.5/6.5.2/submodules/qtsvg-everywhere-src-6.5.2.tar.xz
      sha256: 48b4cc1093af2e0ab3bea30f60651bddd877a2335d16e7207879a2e9e81963a3
      x-checker-data:
        type: anitya
        project-id: 7927
        stable-only: true
        url-template: https://download.qt.io/archive/qt/$major.$minor/$version/submodules/qtsvg-everywhere-src-$version.tar.xz

- name: qtconnectivity
  buildsystem: cmake-ninja
  config-opts:
    - -DCMAKE_BUILD_TYPE=RelWithDebInfo
    - -DQT_BUILD_EXAMPLES=OFF
    - -DQT_BUILD_TESTS=OFF
  sources:
    - type: archive
      url: https://download.qt.io/archive/qt/6.5/6.5.2/submodules/qtconnectivity-everywhere-src-6.5.2.tar.xz
      sha256: db2e4922352d253cafbb8f21eeca58da269c19e0e6d614420af19a7cd35fdc99
      x-checker-data:
        type: anitya
        project-id: 7927
        stable-only: true
        url-template: https://download.qt.io/archive/qt/$major.$minor/$version/submodules/qtconnectivity-everywhere-src-$version.tar.xz

- name: qtcharts
  buildsystem: cmake-ninja
  config-opts:
    - -DCMAKE_BUILD_TYPE=RelWithDebInfo
    - -DQT_BUILD_EXAMPLES=OFF
    - -DQT_BUILD_TESTS=OFF
  sources:
    - type: archive
      url: https://download.qt.io/archive/qt/6.5/6.5.2/submodules/qtcharts-everywhere-src-6.5.2.tar.xz
      sha256: 775af7be019cca698b27e5acffbc2def8f7a5b8f06f5c6db2a7015d578a6ad2d
      x-checker-data:
        type: anitya
        project-id: 7927
        stable-only: true
        url-template: https://download.qt.io/archive/qt/$major.$minor/$version/submodules/qtcharts-everywhere-src-$version.tar.xz

- name: qt5compat
  buildsystem: cmake-ninja
  config-opts:
    - -DCMAKE_BUILD_TYPE=RelWithDebInfo
    - -DQT_BUILD_EXAMPLES=OFF
    - -DQT_BUILD_TESTS=OFF
  sources:
    - type: archive
      url: https://download.qt.io/archive/qt/6.5/6.5.2/submodules/qt5compat-everywhere-src-6.5.2.tar.xz
      sha256: b9abe42ee2055c27a8e7579c7816069e91aae1f9b10649bf572db8ba96fa91c4
      x-checker-data:
        type: anitya
        project-id: 7927
        stable-only: true
        url-template: https://download.qt.io/archive/qt/$major.$minor/$version/submodules/qt5compat-everywhere-src-$version.tar.xz

  - name: qmlapptemplate
    buildsystem: qmake
    sources:
      - type: archive
        url: https://github.com/emericg/qmlapptemplate/archive/refs/tags/v0.6.tar.gz
        sha256:
